<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClienteCitas</title>
    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://kit.fontawesome.com/eb496ab1a0.js" crossorigin="anonymous"> </script>
    <script src="/js/jquery-3.6.1.min.js"></script>
    <link rel="stylesheet" href="/css/estiloCliente.css">
    <link href='/css/main.css' rel='stylesheet' />
    <script src='/js/main.js'></script>
    <script src='/js/es.js'></script>
    <script src='/js/moment.js'></script>
    <script src='/js/moment.min.js'></script>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
   

<script>
     
      document.addEventListener('DOMContentLoaded', function() { 
        let formulario= document.querySelector("form");
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'dayGridMonth',
          locale: 'es',

          headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right:'dayGridMonth,timeGridWeek,listWeek'
          },
         
      
         
          eventClick: function(info){
            document.querySelector('#tituloEvento').innerHTML = info.event.title;            
            document.querySelector('#descripcionEvento').innerHTML = info.event.extendedProps.descripcion;
            document.querySelector('#idEvento').innerHTML = info.event.id;
  

            $("#btnEliminar").attr("href", "#"+info.event.id);
                     
                      $('#btnModificar').click(function(){
                        formulario.reset();
                            $('#eventoModificar #idEvento').val(info.event.id);
                            $('#eventoModificar #txtTitulo').val(info.event.title);
                            $('#eventoModificar #txtDescripcion').val(info.event.extendedProps.descripcion);
                            $('#eventoModificar #start').val(info.event.start);
                            $('#eventoModificar #txtTime').val(info.event.time);
                            $('#eventoModificar #end').val(info.event.end);
                            $('#eventoModificar #txtColor').val(info.event.txtColor);
                            $('#eventoModificar #txtColor2').val(info.event.backgroundColor);
                            $("#modificar").attr("action", "#"+info.event.id);
                        $("#eventoModificar").modal("show")
                      });


               $("#evento").modal('show');
            
          },

        
           dateClick: function(info){
        
            formulario.reset();
            
            formulario.start.value=info.dateStr;
            formulario.end.value=info.dateStr;

            $("#eventoAcciones").modal("show");


          },
          
        });
        calendar.render();

        

    

      });

    </script>

</head>
<body>
    <nav class="navbar">
        <h4>Electrolujos / TuProyectoEs</h4>
        <div class="profile">
            <span class="fas fa-search"></span>
            <img class="profile-image" src="https://picsum.photos/200/200?random=1">
            <p class="profile-name">Cliente</p>
        </div>
    </nav>

    <input type="checkbox" id="toggle">
    <label class="side-toggle" for="toggle"><span class="bx bx-menu"></span></label>

    <div class="slidebar">
      <a href="#">
        <div class="slidebar-menu" id="sidebar">
            <span  class='bx bxs-home' ></span><p>INICIO</p>
        </div>
      </a>
      <a href="/Cliente/Informacion">
       <div class="slidebar-menu">
            <span class='bx bxs-user-detail'></span><p>Información</p>
      </div>  
      <a href="#">
       <div class="slidebar-menu">
            <span class='bx bxl-shopify'></span><p>Productos</p>
      </div>
      
       <a href="/Contacto">
        <div class="slidebar-menu">
            <span class='bx bx-message-rounded-error' ></span><p>PQR</p>
        </div>
       </a>
       
        <a href="#">
       <div class="slidebar-menu">
            <span class="bx bxs-map-pin"></span><p>Citas</p>
        </div>
       </a>
       <a href="/">
        <div class="slidebar-menu">
            <span  class='bx bx-log-out-circle' ></span><p>Salir</p>
        </div>
       </a>
    </div>


    <main>
        <div class="dashboard-container">
        <div class="card detail">
              <div class="dividir">
                  <div class="izquierda">
                    <div class="modal-body">
       
                <form class="formularioAgendar" method="POST" action="#" >
                     <div class="form-group">
                        <label for="titulo" class="Titulo">Título</label>
                        <input type="text" class="form-control" name="txtTitulo" id="txtTitulo" placeholder="Agregar un titulo" required>
                        <small id="helpId" class="Registra"class="form-text text-muted">Registrar un titulo que identifique su problema</small>
                     </div>
                     <div class="form-group">
                        <label for="descripcion" class="Descrip">Descripción</label>
                        <textarea class="form-control" name="txtDescripcion" id="txtDescripcion" rows="3" required></textarea>
                        <small id="helpId" class="form-text text-muted">Registrar la descripción del problema de su vehiculo</small>
                     </div>
                     <div class="form-group">
                        <label for="fecha" class="FechaIni">Fecha de inicio</label>
                        <input type="date" class="form-control" name="start" id="start" aria-describedby="helpId" placeholder="Agregar una fecha para la cita" required>
                        <small id="helpId" class="form-text text-muted">Registrar la fecha de su preferencia</small>
                     </div>
                     <div class="form-group">
                        
                        <label for="hora" class="HoraA">Hora</label>
                        <input type="time" class="form-control" name="txtTime" id="txtTime" value="10:30" aria-describedby="helpId" placeholder="Agregar una hora" required>
                        <small id="helpId" class="form-text text-muted">Registrar la hora de su preferencia</small>
                     </div>
                     <div class="form-group">
                     <label for="fecha" class="FechaFin">Fecha de fin</label>
                        <input type="date" class="form-control" name="end" id="end" aria-describedby="helpId" placeholder="Agregar una fecha para la cita" required>
                        <small id="helpId" class="form-text text-muted">Finalizacion de su cita</small>
                     </div>
                     <div class="form-group">
                        <label for="color" class="ColorFondo">Color de fondo</label>
                        <input type="color" class="form-control" name="txtColor" required id="txtColor" value="#0000" aria-describedby="helpId" placeholder="Agregar un titulo" required>
                        <small id="helpId" class="form-text text-muted">Seleccione un color</small>
                     </div>
                     <div class="form-group">
                        <label for="color" class="ColorText">Color del texto</label>
                        <input type="color" class="form-control" name="txtColor2" id="txtColor2" value="#0000" aria-describedby="helpId" placeholder="Agregar un titulo" required>
                        <small id="helpId" class="form-text text-muted">Seleccione un color</small>
                     </div>
                        </div>
                        <div class="modal-footer">
                          <input type="submit" name="Enviar" class="btn btn-success" >
                          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>
                          </form> 
                          
                        </div>

                  </div>

                   <div class="derecha">
                    <div id='calendar'></div>
                   <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3976.595808211346!2d-74.14764538255615!3d4.665928400000012!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3f9c6058869ac1%3A0xd1c32cd9683c7527!2zQWMgMTMgIzkwLCBGb250aWLDs24sIEJvZ290w6E!5e0!3m2!1ses!2sco!4v1662143583760!5m2!1ses!2sco"  width="890" height="260" padding="200"  style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                  </div>

              </div> 
          </div>
    </main>

    <div class="modal"  id="evento" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="tituloEvento"></h3>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body1">
        <br>
        <h5>Identificador de la cita</h5>
     
        <h6 id="idEvento"></h6>
        <br>
        <h5>Descripción de la cita</h5>
    
         <h6 id="descripcionEvento"></h6>
      
        <br>
      </div>
      <div class="modal-footer">

        <button type="button" class="btn btn-warning" id="btnModificar">Modificar</button>
        <a type="button" class="btn btn-danger" id="btnEliminar">Eliminar</a>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        
      </div>
    </div>
  </div>
</div>
<div class="modal"  id="eventoAcciones" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Agendador de citas</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       
                <form class="formularioAgendar" method="POST" action="#" >

            
                     <div class="form-group">
                        <label for="titulo">Titulo</label>
                        <input type="text" class="form-control" name="txtTitulo" id="txtTitulo" placeholder="Agregar un titulo" required>
                        <small id="helpId" class="form-text text-muted">Registrar un titulo que identifique su problema</small>
                     </div>
                     <div class="form-group">
                        <label for="descripcion">Descripción</label>
                        <textarea class="form-control" name="txtDescripcion" id="txtDescripcion" rows="3" required></textarea>
                        <small id="helpId" class="form-text text-muted">Registrar la descripción del problema de su vehiculo</small>
                     </div>
                     <div class="form-group">
                        <label for="fecha">Fecha de inicio</label>
                        <input type="date" class="form-control" name="start" id="start" aria-describedby="helpId" placeholder="Agregar una fecha para la cita" required>
                        <small id="helpId" class="form-text text-muted">Registrar la fecha de su preferencia</small>
                     </div>
                     <div class="form-group">
                        
                        <label for="hora">Hora</label>
                        <input type="time" class="form-control" name="txtTime" id="txtTime" value="10:30" aria-describedby="helpId" placeholder="Agregar una hora" required>
                        <small id="helpId" class="form-text text-muted">Registrar la hora de su preferencia</small>
                     </div>
                     <div class="form-group">
                     <label for="fecha">Fecha de fin</label>
                        <input type="date" class="form-control" name="end" id="end" aria-describedby="helpId" placeholder="Agregar una fecha para la cita" required>
                        <small id="helpId" class="form-text text-muted">Finalizacion de su cita</small>
                     </div>
                     <div class="form-group">
                        <label for="color">Color de fondo</label>
                        <input type="color" class="form-control" name="txtColor" required id="txtColor" value="#0000" aria-describedby="helpId" placeholder="Agregar un titulo" required>
                        <small id="helpId" class="form-text text-muted">Seleccione un color</small>
                     </div>
                     <div class="form-group">
                        <label for="color">Color del texto</label>
                        <input type="color" class="form-control" name="txtColor2" id="txtColor2" value="#0000" aria-describedby="helpId" placeholder="Agregar un titulo" required>
                        <small id="helpId" class="form-text text-muted">Seleccione un color</small>
                     </div>

                     
                

      </div>
      <div class="modal-footer">
        <input type="submit" name="Enviar" class="btn btn-success" >
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>
        </form> 
        
      </div>
  
    </div>
  </div>

     
</div>

<script>

   

       
</script>
<div class="modal"  id="eventoModificar" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modificar cita</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       
                <form class="formularioAgendar" id="modificar" method="POST" >

                       <input type="hidden" class="form-control" name="idEvento" id="idEvento" placeholder="Agregar un titulo">
                     <div class="form-group">
                        <label for="titulo">Titulo</label>
                        <input type="text" class="form-control" name="txtTitulo" id="txtTitulo" placeholder="Agregar un titulo" required>
                        <small id="helpId" class="form-text text-muted">Registrar un titulo que identifique su problema</small>
                     </div>
                     <div class="form-group">
                        <label for="descripcion">Descripción</label>
                        <textarea class="form-control" name="txtDescripcion" id="txtDescripcion" rows="3"></textarea>
                        <small id="helpId" class="form-text text-muted">Registrar la descripción del problema de su vehiculo</small>
                     </div>
                     <div class="form-group">
                        <label for="fecha">Fecha de inicio</label>
                        <input type="date" class="form-control" name="start" id="start" aria-describedby="helpId" placeholder="Agregar una fecha para la cita" required>
                        <small id="helpId" class="form-text text-muted">Registrar la fecha de su preferencia</small>
                     </div>
                     <div class="form-group">
                        
                        <label for="hora">Hora</label>
                        <input type="time" class="form-control" name="txtTime" id="txtTime" value="10:30" aria-describedby="helpId" placeholder="Agregar una hora" required>
                        <small id="helpId" class="form-text text-muted">Registrar la hora de su preferencia</small>
                     </div>
                     <div class="form-group">
                     <label for="fecha">Fecha de fin</label>
                        <input type="date" class="form-control" name="end" id="end" aria-describedby="helpId" placeholder="Agregar una fecha para la cita" required>
                        <small id="helpId" class="form-text text-muted">Finalizacion de su cita</small>
                     </div>
                     <div class="form-group">
                        <label for="color">Color del texto</label>
                        <input type="color" class="form-control" name="txtColor" id="txtColor" value="#ff0000" aria-describedby="helpId" placeholder="Agregar un titulo" required>
                        <small id="helpId" class="form-text text-muted">Seleccione un color</small>
                     </div>
                     <div class="form-group">
                        <label for="color">Color de fondo</label>
                        <input type="color" class="form-control" name="txtColor2" id="txtColor2" value="#ff0000" aria-describedby="helpId" placeholder="Agregar un titulo" required>
                        <small id="helpId" class="form-text text-muted">Seleccione un color</small>
                     </div>

                     
                

      </div>
      <div class="modal-footer">
        <input type="submit" name="Editar" id="Editar" class="btn btn-success" >
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>
        </form> 
        
      </div>
  
    </div>
  </div>

     
</div>
<script>



</script>

</body>
</html>